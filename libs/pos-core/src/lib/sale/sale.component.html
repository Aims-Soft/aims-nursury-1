<!-- <div class="saveUpdateBar border mat-elevation-z2">
    <button mat-button class="save cursorPointer" (click)="save('#print-data')">
        <mat-icon>save</mat-icon>
        <span class="ps-2">Save</span>
    </button>
    <button mat-button class="save cursorPointer" (click)="reset()">
        <mat-icon>cached</mat-icon>
        <span class="ps-2">Reset</span>
    </button>
</div> -->

<!-- Add / update -->
<div
  [ngClass]="{
    'bg-gold': formFields[12].value == 4 || formFields[13].value == 5,
    '
  bg-dark-light': formFields[12].value != 4 || formFields[13].value != 5
  }"
>
  <div class="container">
    <div
      class="d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center pt-2 pb-2"
    >
      <div class="productSaleIcon"></div>
      <h3 class="ms-3 mt-2">Product Sale</h3>
      <label class="ms-4 mt-3 me-lg-auto"
        >View, edit and manage your sales here.</label
      >
      <button mat-button class="saleReturnBtn me-2" (click)="checkSaleReturn()">
        Sale Return
      </button>
      <button
        mat-button
        [ngClass]="{
          resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
          resetBtn: formFields[12].value != 4 || formFields[13].value != 5
        }"
        (click)="reset()"
      >
        Reset
      </button>
      <button
        mat-button
        class="ms-2 saleReturnBtn"
        data-bs-toggle="modal"
        data-bs-target="#printModal"
      >
        Record
      </button>
      <!-- printKot.print('#print-data')" -->
      <button
        *ngIf="lblBusinessTypeID == 3 && lblOrder == ''"
        mat-button
        class="ms-2 kotBtn"
        (click)="saveOrder('#print-kot')"
      >
        Place Order
      </button>

      <button
        mat-button
        class="ms-2"
        [ngClass]="{
          resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
          resetBtn: formFields[12].value != 4 || formFields[13].value != 5
        }"
        data-bs-toggle="modal"
        data-bs-target="#placeOrderModal"
        *ngIf="lblBusinessTypeID == 3"
      >
        Order Placed
      </button>
      <button
        *ngIf="lblBusinessTypeID == 3 && lblOrder != ''"
        mat-button
        class="ms-2 customerBillBtn"
        (click)="save('#print-data')"
      >
        Customer Bill
      </button>
      <button
        mat-button
        class="saveBtn ms-2"
        (click)="save('#print-data')"
        *ngIf="lblBusinessTypeID != 3"
      >
        Save
      </button>
      <!-- <button
        *ngIf="formFields[12].value === 4 && formFields[13].value === 5"
        mat-button
        class="ms-1 saleReturnBtn ps-5 pe-5"
        (click)="save('kotCustomerBill')"
      >
        Cusomter Bill
      </button> -->
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-1">
    <button
      class="mt-2"
      [ngClass]="{
        resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
        resetBtn: formFields[12].value != 4 || formFields[13].value != 5
      }"
      mat-raised-button
      matTooltip="Search By Code"
    >
      F4
    </button>
    <button
      class="mt-2"
      [ngClass]="{
        resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
        resetBtn: formFields[12].value != 4 || formFields[13].value != 5
      }"
      mat-raised-button
      matTooltip="Search By Name"
    >
      F8
    </button>
    <button
      class="mt-2"
      [ngClass]="{
        resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
        resetBtn: formFields[12].value != 4 || formFields[13].value != 5
      }"
      mat-raised-button
      matTooltip="Product Quantity"
    >
      F9
    </button>
    <button
      class="mt-2"
      [ngClass]="{
        resetBtnZaki: formFields[12].value == 4 || formFields[13].value == 5,
        resetBtn: formFields[12].value != 4 || formFields[13].value != 5
      }"
      mat-raised-button
      matTooltip="Cash"
    >
      Shift
    </button>
  </div>
  <div class="col-md-10 overflow-hidden pb-3">
    <div *ngIf="formFields[12].value != 4 || formFields[13].value != 5">
      <div class="row" *ngIf="roleID == 1">
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <mat-label>Company</mat-label>
            <mat-select
              [(ngModel)]="formFields[11].value"
              (ngModelChange)="getBusiness()"
            >
              <mat-option
                *ngFor="let item of companyList"
                [value]="item.companyID"
                >{{ item.companyFullName }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <mat-label>Business</mat-label>
            <mat-select
              [(ngModel)]="formFields[12].value"
              (ngModelChange)="getBranch()"
            >
              <mat-option
                *ngFor="let item of businessList"
                [value]="item.businessID"
                >{{ item.businessFullName }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <mat-label>Branch</mat-label>
            <mat-select [(ngModel)]="formFields[13].value">
              <mat-option
                *ngFor="let item of branchList"
                [value]="item.branchID"
                >{{ item.branchName }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <mat-label>Customer Name</mat-label>
            <mat-select [(ngModel)]="formFields[3].value">
              <mat-option *ngFor="let item of partyList" [value]="item.partyID">
                <table class="table">
                  <td class="col-6">
                    {{ item.partyName }}
                  </td>
                  <td class="col-6">
                    {{ item.type }}
                  </td>
                </table>
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-1">
          <button
            mat-mini-fab
            class="mt-2 bg-dark text-white"
            data-bs-toggle="modal"
            data-bs-target="#customerModal"
          >
            <mat-icon class="text-center mb-3">add</mat-icon>
          </button>
        </div>
        <div class="col-md-7">
          <mat-form-field class="w-100">
            <input
              matInput
              [(ngModel)]="formFields[9].value"
              placeholder="Remarks"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input
              placeholder="Search By Code"
              [(ngModel)]="txtCode"
              (keyup)="pushProductByCode(txtCode, $event)"
              autofocus
              #txtFocusCode
              matInput
            />
          </mat-form-field>
        </div>
        <!----------------------->
        <div class="col-md-8">
          <mat-form-field class="w-100">
            <mat-label>Search By Name</mat-label>
            <mat-select
              #searchName
              [(ngModel)]="cmbProduct"
              (ngModelChange)="pushProduct(cmbProduct)"
            >
              <mat-option>
                <ngx-mat-select-search
                  [(ngModel)]="searchProduct"
                  [noEntriesFoundLabel]="'Not found'"
                  placeholderLabel="Search..."
                  name="search"
                >
                </ngx-mat-select-search>
              </mat-option>
        
              <mat-option>
                <table class="table table-sm">
                  <thead class="fs-6">
                    <tr>
                      <th class="col-8 lh-1">Product Name</th>
                      <th class="col-2 lh-1">SalePrice</th>
                      <th class="col-2 lh-1" >Quantity</th>
                    </tr>
                  </thead>
                </table>
              </mat-option>
              <cdk-virtual-scroll-viewport itemSize="48" style="height: 400px; ">
              <mat-option
              *cdkVirtualFor="let item of productList| search: 'productName,salePrice,qty': searchProduct; trackBy: trackItem"
              [value]="item.productID"
              >
                <table class="table table-sm ">
                  <tbody class="fs-6">
                    <tr>
                      <ng-container>
                        <td
                          class="col-md-8 text-dark"
                          *ngIf="item.ptype === 'product'"
                        >
                          {{ item.productName }}
                        </td>
                        <td
                          class="col-md-8 text-black "
                          *ngIf="item.ptype != 'product'"
                        >
                        <span>{{ item.productName }}</span>
                        <mat-icon
                            (click)="getProductOfPackage(item.productID)"
                            data-bs-toggle="modal"
                            data-bs-target="#prodModal"
                            >add_shopping_cart</mat-icon
                          >
                        </td>
                      </ng-container>
                      <td class="col-md-2 ">
                        {{ item.salePrice }}
                      </td>
                      <td class="col-md-8 ">
                        {{ item.qty }}
                      </td>
                    </tr>
                  </tbody>
                </table>
              </mat-option>
            </cdk-virtual-scroll-viewport>
            </mat-select>
          </mat-form-field>
        </div>
        
        <!----------------------->
        
      </div>
      <div class="row bg-light-grey pt-2">
        <aims-pos-product-sale-table
          (eventEmitter)="totalBill()"
        ></aims-pos-product-sale-table>
      </div>
    </div>
    <div *ngIf="formFields[12].value == 4 || formFields[13].value == 5">
      <div class="row mt-1">
        <div class="col-md-5">
          <mat-form-field class="w-100 ps-4">
            <mat-label>Search</mat-label>
            <input matInput [(ngModel)]="tblSearch" />
          </mat-form-field>
          <perfect-scrollbar
            class="bg-light-grey mat-elevation-z1"
            style="height: 22.7em; max-width: 100%"
          >
            <div class="d-flex flex-wrap">
              <div
                *ngFor="
                  let item of productList
                    | search: 'productName,salePrice':tblSearch
                "
              >
                <div
                  class="productSaleBox cursorPointer ms-4 me-2 mb-2 mt-2 pt-2"
                  (click)="pushProduct(item.productID)"
                >
                  <div class="d-flex flex-column align-items-center">
                    <img
                      class="mb-1"
                      [src]="item.imgUrl"
                      height="60px"
                      width="80px"
                    />
                    <label>{{ item.productName }}</label>
                    <h4 class="text-center">{{ item.salePrice }}</h4>
                  </div>
                </div>
              </div>
            </div>
          </perfect-scrollbar>
        </div>
        <div class="col-md-7">
          <div class="row" *ngIf="roleID == 1">
            <div class="col-md-4">
              <mat-form-field class="w-100">
                <mat-label>Company</mat-label>
                <mat-select
                  [(ngModel)]="formFields[11].value"
                  (ngModelChange)="getBusiness()"
                >
                  <mat-option
                    *ngFor="let item of companyList"
                    [value]="item.companyID"
                    >{{ item.companyFullName }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-4">
              <mat-form-field class="w-100">
                <mat-label>Business</mat-label>
                <mat-select
                  [(ngModel)]="formFields[12].value"
                  (ngModelChange)="getBranch()"
                >
                  <mat-option
                    *ngFor="let item of businessList"
                    [value]="item.businessID"
                    >{{ item.businessFullName }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-4">
              <mat-form-field class="w-100">
                <mat-label>Branch</mat-label>
                <mat-select [(ngModel)]="formFields[13].value">
                  <mat-option
                    *ngFor="let item of businessList"
                    [value]="item.businessID"
                    >{{ item.businessFullName }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2 mt-3">
              <mat-checkbox
                *ngIf="lblBusinessTypeID == 3"
                [(ngModel)]="chkExtendOrder"
                >Extend Order</mat-checkbox
              >
            </div>
            <div class="col-md-3">
              <mat-form-field class="w-100" *ngIf="lblBusinessTypeID == 3">
                <input
                  matInput
                  [(ngModel)]="formFields[23].value"
                  placeholder="Ref Order No"
                  [disabled]="!chkExtendOrder"
                  (keyup)="getKeyUpOrderDetail($event)"
                />
              </mat-form-field>
            </div>
            <div class="col-md-4">
              <mat-form-field class="w-100">
                <mat-label>Customer Name</mat-label>
                <mat-select [(ngModel)]="formFields[3].value">
                  <mat-option
                    *ngFor="let item of partyList"
                    [value]="item.partyID"
                  >
                    <table class="table">
                      <td class="col-6">
                        {{ item.partyName }}
                      </td>
                      <td class="col-6">
                        {{ item.type }}
                      </td>
                    </table>
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-1">
              <button
                mat-mini-fab
                class="mt-2 bg-dark text-white"
                data-bs-toggle="modal"
                data-bs-target="#customerModal"
              >
                <mat-icon class="text-center mb-3">add</mat-icon>
              </button>
            </div>
            <div class="col-md-2">
              <div
                class="d-flex flex-column justify-content-center align-items-center"
              >
                <mat-radio-group
                  [(ngModel)]="rdbType"
                  aria-label="Select an option"
                >
                  <mat-radio-button class="fs-5" checked="true" value="Dine-In"
                    >Dine-In</mat-radio-button
                  >
                  <mat-radio-button class="fs-5" value="Take-Away"
                    >Take-Away</mat-radio-button
                  >
                </mat-radio-group>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <mat-form-field class="w-100" *ngIf="lblBusinessTypeID != 3">
                <input
                  matInput
                  [(ngModel)]="formFields[9].value"
                  placeholder="Remarks"
                />
              </mat-form-field>
              <mat-form-field class="w-100" *ngIf="lblBusinessTypeID == 3">
                <input
                  matInput
                  [(ngModel)]="formFields[9].value"
                  placeholder="Table No"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="row bg-light-grey pt-2">
            <aims-pos-product-sale-table
              (eventEmitter)="totalBill()"
            ></aims-pos-product-sale-table>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="row mt-2 justify-content-center">
          <div class="col-md-2">
            <div
              class="mt-4 bg-light d-flex flex-column align-items-center mat-elevation-z5"
            >
              <label class="h2-sale-discount pt-3">PERCENTAGE</label>
              <mat-form-field class="text-center h1-digit mt-n5 mb-n1 pb-2">
                <input
                  matInput
                  class="blue-text"
                  [(ngModel)]="percentage"
                  (keyup)="changeValue()"
                  (ngModelChange)="calculateTotalAmount(1)"
                  type="text"
                  maxlength="2"
                />
              </mat-form-field>
            </div>
            <!-- <div class="">
                <label class="">PERCENTAGE</label>
                <mat-form-field class="text-center">
                  <input id="noUnderlineInput" matInput [(ngModel)]="percentage" (keyup)="changeValue()"
                    (ngModelChange)="calculateTotalAmount(1)" type="text" maxlength="2" />
                </mat-form-field>
              </div> -->
          </div>
          <div class="col-md-2">
            <div
              class="mt-4 bg-light d-flex flex-column align-items-center mat-elevation-z5"
            >
              <label class="h2-sale-discount pt-3">DISCOUNT</label>
              <mat-form-field class="text-center h1-digit mt-n5 mb-n1 pb-2">
                <input
                  matInput
                  class="blue-text"
                  [(ngModel)]="formFields[6].value"
                  (keyup)="changeValue()"
                  (ngModelChange)="calculateTotalAmount(2)"
                  type="number"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="col-md-2">
            <div class="col-md-1">
              <mat-checkbox
                class="ms-5"
                [(ngModel)]="chkApplied"
                (change)="Generated(chkApplied)"
                >Bank</mat-checkbox
              >
            </div>
            <div
              class="bg-light d-flex flex-column align-items-center mat-elevation-z5"
            >
              <label class="h3-sale-cash pt-3">CASH</label>
              <mat-form-field class="text-center h1-digit mt-n5 mb-n1 pb-1">
                <input
                  matInput
                  class="blue-text"
                  [(ngModel)]="formFields[7].value"
                  (keyup)="changeValue(); getKeyPressed($event, '#print-data')"
                  type="number"
                  #txtCash
                />
              </mat-form-field>
            </div>
          </div>
          <div class="col-md-2">
            <div
              class="mt-4 d-flex flex-column align-items-center mat-elevation-z5"
              [ngClass]="{
                'bg-red':
                  formFields[12].value == 4 || formFields[13].value == 5,
                '
              bg-light-green':
                  formFields[12].value != 4 || formFields[13].value != 5
              }"
            >
              <label class="h2-sale-discount pt-4 text-white">CHANGE</label>
              <label class="h1-digit text-center mt-1 mb-2 pb-1">{{
                formFields[8].value
              }}</label>
            </div>
          </div>
          <div class="col-md-2">
            <div
              class="mt-4 d-flex flex-column align-items-center mat-elevation-z5"
              [ngClass]="{
                'bg-red':
                  formFields[12].value == 4 || formFields[13].value == 5,
                '
              bg-light-green':
                  formFields[12].value != 4 || formFields[13].value != 5
              }"
            >
              <label class="h3-sale-cash pt-4 text-white">TOTAL</label>
              <label class="text-center mt-1 mb-2 h1-digit">
                {{ lblTotal }}
              </label>
            </div>
          </div>
          <div class="col-md-2">
            <div
              class="mt-4 d-flex flex-column align-items-center mat-elevation-z5"
              [ngClass]="{
                'bg-red':
                  formFields[12].value == 4 || formFields[13].value == 5,
                '
              bg-light-green':
                  formFields[12].value != 4 || formFields[13].value != 5
              }"
            >
              <label class="h3-sale-cash pt-4 text-white">BANK</label>
              <label class="text-center mt-1 mb-2 h1-digit">{{
                lblBankAmount
              }}</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<aims-pos-print-sale
  [customerName]="lblCustomerName"
  class="d-none"
  id="print-data"
></aims-pos-print-sale>

<div class="d-none">
  <aims-pos-print-kot-sale id="print-kot"></aims-pos-print-kot-sale>
</div>
<!-- Modal -->
<div
  id="saleReturnModal"
  class="modal fade"
  role="dialog"
  data-bs-backdrop="false"
>
  <div class="modal-dialog modal-md mat-elevation-z20">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header bg-dark-grey">
        <h4 class="modal-title align-self-center text-white">Sale Return</h4>
        <div class="cancelIcon cursorPointer" data-bs-dismiss="modal"></div>
        <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <div class="d-flex flex-column align-items-center">
          <div class="saleReturnIcon mb-3"></div>
          <mat-form-field>
            <input
              matInput
              placeholder="Enter Invoice Number"
              [(ngModel)]="lblInvoiceNo"
            />
          </mat-form-field>
          <button mat-button class="resetBtn ps-5 pe-5" (click)="saleReturn()">
            Save
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal window -->
<div
  id="customerModal"
  class="modal fade"
  role="dialog"
  data-bs-backdrop="false"
>
  <div class="modal-dialog modal-lg mat-elevation-z20">
    <div class="modal-content">
      <div class="modal-header bgSecondary">
        <h5
          class="modal-title fs-5 fw-bold text-white ms-4 mt-2"
          id="customerModal"
        >
          Add Customer
        </h5>
        <mat-icon class="text-white cursorPointer" data-bs-dismiss="modal"
          >close</mat-icon
        >
      </div>
      <div class="modalbody bg-light">
        <aims-pos-add-custoomer
          (eventEmitter)="getParty()"
          (closeModal)="hideModal()"
        ></aims-pos-add-custoomer>
      </div>
    </div>
  </div>
</div>
<!-- Modal window for Bank -->
<div id="bankModal" class="modal fade" role="dialog" data-bs-backdrop="false">
  <div class="modal-dialog modal-lg mat-elevation-z20">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header bgSecondary">
        <h4 class="modal-title align-self-center text-white" id="bankModal">
          Bank Details
        </h4>
        <!-- <div class="cancelIcon cursorPointer" data-bs-dismiss="modal"></div> -->
        <mat-icon
          class="text-white"
          data-bs-dismiss="modal"
          (click)="resetBank()"
          >close</mat-icon
        >
      </div>
      <div class="modal-body">
        <div class="row mt-2">
          <mat-form-field class="w-100">
            <mat-label>Select Bank</mat-label>
            <mat-select [(ngModel)]="formFields[15].value">
              <mat-option *ngFor="let item of bankList" [value]="item.bankID">
                {{ item.accountTitle }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field class="w-100">
              <input
                matInput
                [(ngModel)]="cmbBankAmount"
                placeholder="Enter amount"
              />
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field class="w-100">
              <input
                matInput
                [(ngModel)]="formFields[17].value"
                placeholder="Enter reference number"
              />
            </mat-form-field>
          </div>
        </div>

        <div
          class="d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center"
        >
          <button
            mat-button
            class="ms-auto saveBtn mat-elevation-z1"
            (click)="addBank(); changeValue()"
          >
            Add
          </button>
          <button
            mat-button
            class="resetBtn ms-2 mat-elevation-z1"
            (click)="resetBank()"
          >
            Reset
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="printModal" class="modal fade" role="dialog" data-bs-backdrop="false">
  <div class="modal-dialog modal-lg mat-elevation-z20">
    <div class="modal-content">
      <div class="modal-header bgSecondary">
        <h5 class="modal-title fs-5 fw-bold text-white mt-2" id="printModal">
          Saved Invoice
        </h5>
        <mat-icon class="text-white cursorPointer" data-bs-dismiss="modal"
          >close</mat-icon
        >
      </div>
      <div class="modalbody bg-light">
        <div class="row">
          <div class="col-md-6 mt-3"><strong></strong></div>
          <div class="col-md-6 mt-2 ms-auto">
            <mat-form-field class="w-100">
              <input
                class="text-capitalize"
                type="tel"
                matInput
                placeholder="Search"
                [(ngModel)]="tblSearch"
              />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <!-- <div class="mt-2 ms-2  ms-auto">
          <mat-form-field class="w-50 ">
            <input class="text-capitalize" type="tel" matInput placeholder="Search" [(ngModel)]="tblSearch" />
            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>
        </div> -->
        <perfect-scrollbar
          class="bg-light-grey stickyHeader"
          style="height: 72vh; max-width: 100%"
        >
          <table class="table table-striped table-hover mat-elevation-z3">
            <thead>
              <tr class="bg-light">
                <th class="text-secondary">Invoice No.</th>
                <th class="text-secondary">InvoiceDate</th>
                <th class="text-secondary">Party</th>
                <th class="text-secondary">InvoiceType</th>
                <th class="text-secondary text-end">Amount</th>
                <th class="text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              <!--  -->
              <tr
                *ngFor="
                  let item of invoiceList
                    | search: 'invoiceNo,partyname,amount':tblSearch
                "
              >
                <td class="">{{ item.invoiceNo }}</td>
                <td class="">{{ item.invoiceDate | date }}</td>
                <td>{{ item.partyname }}</td>
                <td class="">{{ item.invoiceType }}</td>
                <td class="text-end">{{ item.totalamount | number }}</td>
                <td class="text-center">
                  <span class="txtClrLightGreen cursorPointer ps-2 pe-2">
                    <mat-icon (click)="getInvoiceDetail(item, '#print-data')"
                      >local_printshop</mat-icon
                    >
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </perfect-scrollbar>
      </div>
    </div>
  </div>
</div>

<div
  id="placeOrderModal"
  class="modal fade"
  role="dialog"
  data-bs-backdrop="false"
>
  <div class="modal-dialog modal-lg mat-elevation-z20">
    <div class="modal-content">
      <div class="modal-header bgSecondary">
        <h5 class="modal-title fs-5 fw-bold text-white mt-2" id="printModal">
          Placed Order
        </h5>
        <mat-icon class="text-white cursorPointer" data-bs-dismiss="modal"
          >close</mat-icon
        >
      </div>
      <div class="modalbody bg-light">
        <div class="row">
          <div class="col-md-6 mt-3"><strong></strong></div>
          <div class="col-md-6 mt-2 ms-auto">
            <mat-form-field class="w-100">
              <input
                class="text-capitalize"
                type="tel"
                matInput
                placeholder="Search"
                [(ngModel)]="tblSearch"
              />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <!-- <div class="mt-2 ms-2  ms-auto">
          <mat-form-field class="w-50 ">
            <input class="text-capitalize" type="tel" matInput placeholder="Search" [(ngModel)]="tblSearch" />
            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>
        </div> -->
        <perfect-scrollbar
          class="bg-light-grey stickyHeader"
          style="height: 72vh; max-width: 100%"
        >
          <table class="table table-striped table-hover mat-elevation-z3">
            <thead>
              <tr class="bg-light">
                <th class="text-secondary">Order No.</th>
                <th class="text-secondary">Ref Order No.</th>
                <th class="text-secondary">Customer Name</th>
                <th class="text-secondary">Order Type</th>
                <th class="text-secondary">Amount</th>
                <th class="text-secondary" *ngIf="lblBusinessTypeID == 3">
                  Table
                </th>
                <th class="text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              <!--  -->
              <tr
                *ngFor="
                  let item of orderList
                    | search: 'orderID,customerName,total':tblSearch
                "
              >
                <td class="">{{ item.orderID }}</td>
                <td class="">{{ item.refOrderID }}</td>
                <td>{{ item.customerName }}</td>
                <td class="">{{ item.orderType }}</td>
                <td class="text-center">{{ item.total | number }}</td>
                <td *ngIf="lblBusinessTypeID == 3">
                  {{ item.remarks }}
                </td>
                <td class="text-center">
                  <span class="txtClrDarkGrey cursorPointer ps-2 pe-2">
                    <mat-icon (click)="getOrderDetail(item, 'print')"
                      >print</mat-icon
                    >
                  </span>
                  <span class="txtClrDarkGrey cursorPointer ps-2 pe-2">
                    <mat-icon (click)="checkPin(item)">delete</mat-icon>
                  </span>
                  <span class="txtClrRed cursorPointer ps-2 pe-2">
                    <mat-icon (click)="getOrderDetail(item, 'edit')"
                      >edit</mat-icon
                    >
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </perfect-scrollbar>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="pinModal" role="dialog" data-bs-backdrop="false">
  <div class="modal-dialog modal-md mat-elevation-z20" role="document">
    <div class="modal-content">
      <div class="modal-header d-flex flex-row-reverse bg-dark-grey">
        <!-- <h4 class="modal-title align-self-center text-white">Pin</h4> -->
        <div class="cancelIcon cursorPointer" data-bs-dismiss="modal"></div>
      </div>

      <div class="modal-body overflow-hidden">
        <div class="d-flex flex-column align-items-center">
          <div class="padLockIcon mb-3"></div>
          <mat-form-field>
            <input
              matInput
              placeholder="Enter Pin"
              [(ngModel)]="txtPin"
              type="password"
            />
          </mat-form-field>
          <button mat-button class="resetBtn ps-5 pe-5" (click)="pin()">
            OK
          </button>
        </div>
      </div>
    </div>
    <!-- modal-content -->
  </div>
  <!-- modal-dialog -->
</div>
<!--modal-->

<div class="modal fade" id="prodModal" role="dialog" data-bs-backdrop="false">
  <div class="modal-dialog modal-lg mat-elevation-z20" role="document">
    <div class="modal-content">
      <div class="modal-header d-flex flex-row-reverse bg-dark-grey">
        <!-- <h4 class="modal-title align-self-center text-white">Sale Return</h4> -->
        <div class="cancelIcon cursorPointer" data-bs-dismiss="modal"></div>
      </div>

      <div class="modal-body overflow-hidden">
        <div class="container justify-content-center">
          <perfect-scrollbar
            class="mx-4"
            style="height: 22.5em; max-width: 90%"
          >
            <table class="table table-sm table-striped">
              <thead>
                <tr class="">
                  <!-- <th class="text-secondary">Sr#</th> -->
                  <th class="text-secondary">Product Name</th>
                  <th class="text-secondary">Category Name</th>
                  <th class="text-secondary">Price</th>
                  <th class="text-secondary">Quantity</th>
                  <th class="text-secondary">Add</th>

                </tr>
              </thead>
              <tbody>
                <!--  -->
                <tr *ngFor="let item of packageProdList; let i = index">
                  <td>
                      {{ item.productName }}
                  </td>
                  <td>{{ item.categoryName }}</td>
                  <td>{{ item.salePrice }}</td>
                  <td>{{ item.qty }}</td>
                  <td><mat-icon (click)="onCheckboxChange(item)" class="cursorPointer">add_circle</mat-icon>
                  </td>
                </tr>
              </tbody>
            </table>
          </perfect-scrollbar>
        </div>
      </div>
    </div>
    <!-- modal-content -->
  </div>
  <!-- modal-dialog -->
</div>
<!-- modal-dialog -->
